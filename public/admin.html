<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#163f86" />
    <title>&#x1F4DA; KitaabPadho Admin</title>
    <link rel="icon" type="image/svg+xml" href="/assets/icons/bookish.svg" />
    <link rel="stylesheet" href="/assets/css/app.css?v=20260226a" />
  </head>
  <body>
    <header class="kb-header">
      <div class="kb-topbar">
        <a class="kb-brand" href="/">
          <span class="kb-brand-mark">KP</span>
          <span>
            <strong>KitaabPadho Admin</strong>
            <small>Project actions and controls</small>
          </span>
        </a>
        <div class="drawer-actions" style="justify-content:end">
          <a class="kb-btn kb-btn-ghost" href="/">Client</a>
          <a class="kb-btn kb-btn-ghost" href="/seller">Seller</a>
          <a class="kb-btn kb-btn-ghost" href="/delivery">Delivery</a>
          <button id="adminLogoutBtn" class="kb-btn kb-btn-dark" type="button">Logout</button>
        </div>
      </div>
      <nav class="kb-nav">
        <a class="active" href="#adminMainPanel">Admin Actions</a>
        <a href="#adminBannerPanel">Banners</a>
        <a href="#adminSupportPanel">Customer Service</a>
      </nav>
    </header>

    <main class="kb-main">
      <section id="adminLoginPanel" class="panel">
        <div class="panel-head">
          <h2>Admin Login</h2>
        </div>
        <form id="adminLoginForm" class="drawer" style="max-width:420px">
          <input class="kb-input" name="email" type="email" placeholder="Admin email" required />
          <input class="kb-input" name="password" type="password" placeholder="Password" required />
          <button class="kb-btn kb-btn-primary" type="submit">Login as Admin</button>
        </form>
        <p id="adminLoginStatus" class="muted"></p>
        <p id="adminRoleHint" class="muted">Only users with admin role can open this panel.</p>
      </section>

      <section id="adminMainPanel" class="panel hidden">
        <div class="panel-head">
          <h2>Admin Panel</h2>
          <button id="adminRefreshBtn" class="kb-btn kb-btn-ghost" type="button">Refresh</button>
        </div>
        <p id="adminStatus" class="muted">Loading admin data...</p>
        <div id="adminSummary" class="admin-summary"></div>
        <div class="filter-grid admin-filter-grid">
          <input id="adminSearchInput" class="kb-input" placeholder="Search summary/email" />
          <input id="adminActionTypeFilter" class="kb-input" placeholder="Action type" />
          <input id="adminEntityTypeFilter" class="kb-input" placeholder="Entity type" />
          <button id="adminApplyFiltersBtn" class="kb-btn kb-btn-dark" type="button">Apply</button>
        </div>
        <div id="adminActionsList" class="admin-actions"></div>

        <div class="panel-head" style="margin-top:0.9rem">
          <h3>Resource CRUD</h3>
          <button id="adminCrudRefreshBtn" class="kb-btn kb-btn-ghost" type="button">Refresh Resources</button>
        </div>
        <p id="adminCrudStatus" class="muted">View, update, and delete latest listings, posts, comments, and delivery jobs.</p>
        <div class="admin-crud-grid">
          <section class="drawer">
            <h4>Listings</h4>
            <div id="adminCrudListings"></div>
          </section>
          <section class="drawer">
            <h4>Community Posts</h4>
            <div id="adminCrudPosts"></div>
          </section>
          <section class="drawer">
            <h4>Community Comments</h4>
            <div id="adminCrudComments"></div>
          </section>
          <section class="drawer">
            <h4>Delivery Jobs</h4>
            <div id="adminCrudDelivery"></div>
          </section>
        </div>
      </section>

      <section id="adminBannerPanel" class="panel hidden">
        <div class="panel-head">
          <h2>Banner Manager</h2>
          <button id="adminBannerRefreshBtn" class="kb-btn kb-btn-ghost" type="button">Refresh</button>
        </div>
        <form id="adminBannerForm" class="drawer">
          <input name="title" class="kb-input" placeholder="Banner title" required />
          <textarea name="message" class="kb-textarea" placeholder="Banner text"></textarea>
          <input name="linkUrl" class="kb-input" placeholder="Redirect URL" />
          <input name="buttonText" class="kb-input" placeholder="Button text" />
          <select name="scope" class="kb-select">
            <option value="local">Local</option>
            <option value="india">India</option>
            <option value="all">All</option>
          </select>
          <input name="priority" class="kb-input" type="number" value="10" />
          <label class="file-pick">
            <span>Banner image</span>
            <input name="image" type="file" accept="image/*" />
          </label>
          <label><input name="isActive" type="checkbox" checked /> Active</label>
          <button class="kb-btn kb-btn-primary" type="submit">Publish Banner</button>
          <p id="adminBannerStatus" class="muted"></p>
        </form>
        <div id="adminBannerList" class="cards"></div>
      </section>

      <section id="adminSupportPanel" class="panel hidden">
        <div class="panel-head">
          <h2>Customer Service Queries</h2>
          <button id="adminSupportRefreshBtn" class="kb-btn kb-btn-ghost" type="button">Refresh</button>
        </div>
        <div id="adminFeedbackList" class="cards"></div>
      </section>
    </main>

    <footer class="kb-footer">
      <p>Made by UPSC aspirant. Built for learners across India. KitaabPadhoIndia. @2026 copyright</p>
    </footer>

    <script type="module" src="/assets/js/admin-page.js?v=20260226a"></script>
  </body>
</html>

